params:
  excluded_namespaces: []
  excluded_attributes: ["messaging.client_id"]

templates:
  # stable
  - template: attributes.j2
    application_mode: each
    filter:  >
      semconv_grouped_attributes({
        "exclude_root_namespace": $excluded_namespaces,
        "exclude_stability": ["experimental", "deprecated"],
        "exclude_deprecated": false
      })
    file_name: "{{ctx.root_namespace | snake_case}}/attributes.rb"
  - template: metrics.j2
    application_mode: each
    filter:  >
      semconv_grouped_metrics({
        "exclude_root_namespace": $excluded_namespaces,
        "exclude_stability": ["experimental", "deprecated"],
        "exclude_deprecated": false
      })
    file_name: "{{ctx.root_namespace | snake_case}}/metrics.rb"
  # incubating
  - pattern: attributes.j2
    application_mode: each
    filter: >
      semconv_grouped_attributes({
        "exclude_root_namespace": $excluded_namespaces,
        "exclude_stability": [],
        "exclude_deprecated": false
      })
    file_name: "incubating/{{ctx.root_namespace | snake_case}}/attributes.rb"
    params:
      incubating: true
  - pattern: metrics.j2
    application_mode: each
    filter: >
      semconv_grouped_metrics({
        "exclude_root_namespace": $excluded_namespaces,
        "exclude_stability": [],
        "exclude_deprecated": false
      })
    file_name: "incubating/{{ctx.root_namespace | snake_case}}/metrics.rb"
    params:
      incubating: true
  # SDK metrics (otel namespace, incubating)
  - template: sdk_metrics.j2
    application_mode: each
    filter: >
      semconv_grouped_metrics({
        "include_root_namespace": ["otel"],
        "exclude_stability": [],
        "exclude_deprecated": false
      })
    file_name: "../metrics_sdk/lib/opentelemetry/sdk/metrics/otel_metrics.rb"

default_comment_format: yard_doc
comment_formats:
  yard_doc:
    format: markdown
    prefix: "# "

